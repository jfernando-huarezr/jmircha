<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proxies</title>
</head>
<body>
    <h1>Proxies</h1>
    <script>
        //permite crear un objeto, basado en un objeto literal inicial
        //por ejemplo las clases son un objeto a seguir. Cuando genero una nuevai nstanca de esta clase, este objeto obtiene nuevas caracteristicas
        //En lugar de usar clases, se usa un objeto literal.
        //El proxie recibe un objeto litera, hace una copia

        //el proxie mantiene una vinculacion entre la copia y el original


        //objeto literal
        const persona = {
            nombre: "",
            apellido: "",
            edad: 0
        };

        const manejador = {
            set(obj, prop, valor){
                if (Object.keys(obj).indexOf(prop)===-1) {
                    return console.error(`La propiedad ${prop} no existe en el objeto persona`);
                }

                obj[prop]=valor;
            }
        };

        const fernando = new Proxy(persona, manejador);
        fernando.nombre = "Fernando";
        fernando.apellido = "Huarez";
        fernando.edad = 31;
        fernando.twitch = "reploidzx"

        console.log(fernando);
        console.log(persona);

    </script>
    
</body>
</html>